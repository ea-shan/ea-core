"use strict";var searchBlocks=document.querySelectorAll(".gspbsearch-box");searchBlocks.forEach(e=>{var t,r,n=e.querySelector("input"),s=e.querySelector(".gspbsearch_results_items");let a=e.getAttribute("id").replace(/-/g,"_");var i=void 0!==window[a]?window[a]:"";let c=e.querySelector(".gspbsearch_btn_icon"),o=e.querySelector(".gspbsearch_btn"),l=e.querySelector("form"),u=c?c.innerHTML:"";if(i){var $=e.getAttribute("data-show"),d=e.getAttribute("data-posttypes"),f=e.getAttribute("data-noresults"),p=ajax_search_params.nonce,g=ajax_search_params.rest_url;s&&(n.addEventListener("input",e=>{clearTimeout(t),t=setTimeout(function(){m(e.target.value)},300)}),document.addEventListener("click",e=>{s.contains(e.target)||(s.innerHTML="")})),o.classList.contains("expandedbtn")&&(o.addEventListener("click",t=>{t.preventDefault(),e.classList.toggle("expanded")}),n.addEventListener("keydown",function(e){"Enter"===e.key&&l.submit()}))}function m(t){if(e.classList.remove("active"),c&&u&&(c.innerHTML='<svg version="1.1" id="L5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve"><circle fill="#fff" stroke="none" cx="6" cy="50" r="6">  <animateTransform attributeName="transform" dur="1s" type="translate" values="0 15 ; 0 -15; 0 15" repeatCount="indefinite" begin="0.1"></animateTransform></circle><circle fill="#fff" stroke="none" cx="30" cy="50" r="6">  <animateTransform attributeName="transform" dur="1s" type="translate" values="0 10 ; 0 -10; 0 10" repeatCount="indefinite" begin="0.2"></animateTransform></circle><circle fill="#fff" stroke="none" cx="54" cy="50" r="6">  <animateTransform attributeName="transform" dur="1s" type="translate" values="0 5 ; 0 -5; 0 5" repeatCount="indefinite" begin="0.3"></animateTransform></circle></svg>'),!t&&c&&u){c.innerHTML=u;return}fetch(g,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":p},body:JSON.stringify({query:t,post_types:d,blockinstance:i,show:$,nonce:p,noresults:f})}).then(function(e){return e.json().then(function(t){return{status:e.status,data:t}})}).then(function(t){var r=t.status,n=t.data;n.length&&200===r?s.innerHTML=n:s.innerHTML=f,e.classList.add("active"),c&&u&&(c.innerHTML=u)}).catch(function(t){console.error("An error occurred while processing your request:",t),s.innerHTML="An error occurred while processing your request.",e.classList.add("active"),c&&u&&(c.innerHTML=u)})}});